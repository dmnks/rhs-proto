* detect object type from content header
* implement checkout
